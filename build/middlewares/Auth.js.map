{"version":3,"sources":["../../server/middlewares/Auth.js"],"names":["dotenv","config","Auth","verifyToken","req","res","next","token","headers","status","json","error","decoded","jwt","verify","process","env","SECRETKEY","user","id","userId","e"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,WADW,uBACCC,GADD,EACMC,GADN,EACWC,IADX,EACiB;AAC1B,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAY,cAAZ,CAAd;;AACA,QAAI,CAACD,KAAL,EAAY;AAAEF,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,QAAAA,MAAM,EAAE,GAAV;AAAeE,QAAAA,KAAK,EAAE;AAAtB,OAArB;AAAmF;AAAS;;AAE1G,QAAI;AACF,UAAMC,OAAO,GAAGC,sBAAIC,MAAJ,CAAWP,KAAX,EAAkBQ,OAAO,CAACC,GAAR,CAAYC,SAA9B,CAAhB;;AACAb,MAAAA,GAAG,CAACc,IAAJ,GAAW;AAAEC,QAAAA,EAAE,EAAEP,OAAO,CAACQ;AAAd,OAAX;AACAd,MAAAA,IAAI;AACL,KAJD,CAIE,OAAOe,CAAP,EAAU;AACVhB,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,QAAAA,MAAM,EAAE,GAAV;AAAeE,QAAAA,KAAK,wDAAiDU,CAAjD;AAApB,OAArB;AACD;AACF;AAZU,CAAb;eAeenB,I","sourcesContent":["import jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nconst Auth = {\n  verifyToken(req, res, next) {\n    const token = req.headers['access-token'];\n    if (!token) { res.status(400).json({ status: 401, error: 'No Authentication Token Provided.' }); return; }\n\n    try {\n      const decoded = jwt.verify(token, process.env.SECRETKEY);\n      req.user = { id: decoded.userId };\n      next();\n    } catch (e) {\n      res.status(400).json({ status: 400, error: `There was an error processing your request. ${e}` });\n    }\n  },\n};\n\nexport default Auth;\n"],"file":"Auth.js"}