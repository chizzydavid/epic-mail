{"version":3,"sources":["../../server/controllers/Message.js"],"names":["Message","createMessage","req","res","newMessage","MessageModel","create","body","status","json","data","getAllReceived","messages","findAllReceived","user","id","getAllUnread","findAllUnread","getAllSent","findAllSent","getOne","message","findOne","Number","params","error","delete","ref"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;AAEA,IAAMA,OAAO,GAAG;AACdC,EAAAA,aADc,yBACAC,GADA,EACKC,GADL,EACU;AACtB,QAAMC,UAAU,GAAGC,iBAAaC,MAAb,CAAoBJ,GAAG,CAACK,IAAxB,CAAnB;;AACA,WAAOJ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeE,MAAAA,IAAI,oBAAON,UAAP;AAAnB,KAArB,CAAP;AACD,GAJa;AAMdO,EAAAA,cANc,0BAMCT,GAND,EAMMC,GANN,EAMW;AACvB,QAAMS,QAAQ,GAAGP,iBAAaQ,eAAb,CAA6BX,GAAG,CAACY,IAAJ,CAASC,EAAtC,CAAjB;;AACA,WAAOZ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeE,MAAAA,IAAI,qBAAME,QAAN;AAAnB,KAArB,CAAP;AACD,GATa;AAWdI,EAAAA,YAXc,wBAWDd,GAXC,EAWIC,GAXJ,EAWS;AACrB,QAAMS,QAAQ,GAAGP,iBAAaY,aAAb,CAA2Bf,GAAG,CAACY,IAAJ,CAASC,EAApC,CAAjB;;AACA,WAAOZ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeE,MAAAA,IAAI,qBAAME,QAAN;AAAnB,KAArB,CAAP;AACD,GAda;AAgBdM,EAAAA,UAhBc,sBAgBHhB,GAhBG,EAgBEC,GAhBF,EAgBO;AACnB,QAAMS,QAAQ,GAAGP,iBAAac,WAAb,CAAyBjB,GAAG,CAACY,IAAJ,CAASC,EAAlC,CAAjB;;AACA,WAAOZ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeE,MAAAA,IAAI,qBAAME,QAAN;AAAnB,KAArB,CAAP;AACD,GAnBa;AAqBdQ,EAAAA,MArBc,kBAqBPlB,GArBO,EAqBFC,GArBE,EAqBG;AACf,QAAMkB,OAAO,GAAGhB,iBAAaiB,OAAb,CAAqBC,MAAM,CAACrB,GAAG,CAACsB,MAAJ,CAAWT,EAAZ,CAA3B,CAAhB;;AACA,QAAI,CAACM,OAAL,EAAc;AAAE,aAAOlB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,QAAAA,MAAM,EAAE,GAAV;AAAeiB,QAAAA,KAAK,EAAE;AAAtB,OAArB,CAAP;AAA4E;;AAE5F,WAAOtB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeE,MAAAA,IAAI,oBAAOW,OAAP;AAAnB,KAArB,CAAP;AACD,GA1Ba;AA4BdK,EAAAA,MA5Bc,mBA4BPxB,GA5BO,EA4BFC,GA5BE,EA4BG;AACf,QAAMkB,OAAO,GAAGhB,iBAAaiB,OAAb,CAAqBC,MAAM,CAACrB,GAAG,CAACsB,MAAJ,CAAWT,EAAZ,CAA3B,CAAhB;;AACA,QAAI,CAACM,OAAL,EAAc;AAAE,aAAOlB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,QAAAA,MAAM,EAAE,GAAV;AAAeiB,QAAAA,KAAK,EAAE;AAAtB,OAArB,CAAP;AAA4E;;AAE5F,QAAME,GAAG,GAAGtB,iBAAaqB,MAAb,CAAoBH,MAAM,CAACrB,GAAG,CAACsB,MAAJ,CAAWT,EAAZ,CAA1B,CAAZ;;AACA,WAAOZ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBkB,GAArB,CAAP;AACD;AAlCa,CAAhB;eAsCe3B,O","sourcesContent":["import MessageModel from '../dummy/models/Message';\n\nconst Message = {\n  createMessage(req, res) {\n    const newMessage = MessageModel.create(req.body);\n    return res.status(201).json({ status: 201, data: { ...newMessage } });\n  },\n\n  getAllReceived(req, res) {\n    const messages = MessageModel.findAllReceived(req.user.id);\n    return res.status(200).json({ status: 200, data: [...messages] });\n  },\n\n  getAllUnread(req, res) {\n    const messages = MessageModel.findAllUnread(req.user.id);\n    return res.status(200).json({ status: 200, data: [...messages] });\n  },\n\n  getAllSent(req, res) {\n    const messages = MessageModel.findAllSent(req.user.id);\n    return res.status(200).json({ status: 200, data: [...messages] });\n  },\n\n  getOne(req, res) {\n    const message = MessageModel.findOne(Number(req.params.id));\n    if (!message) { return res.status(404).json({ status: 404, error: 'Message not found.' }); }\n\n    return res.status(200).json({ status: 200, data: { ...message } });\n  },\n\n  delete(req, res) {\n    const message = MessageModel.findOne(Number(req.params.id));\n    if (!message) { return res.status(404).json({ status: 404, error: 'Message not found.' }); }\n\n    const ref = MessageModel.delete(Number(req.params.id));\n    return res.status(204).json(ref);\n  },\n\n\n};\nexport default Message;\n"],"file":"Message.js"}